<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Манай дэлгэцнээ гарч буй кинонууд, Тун удахгүй гарах кино, кино үзэх ">
        <link rel="stylesheet" href="css/create.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/header.css">
        <title>Бүртгүүлэх</title>
    </head>
    <script>
            async function register() {
                const email = document.getElementById("email_req").value;
                const fullname = document.getElementById("firstname").value;
                const password = document.getElementById("pass").value;
                fetch("http://localhost:3000/registeruser", {
                    method: 'POST',
                    cache: "no-cache",
                    headers: {
                        "Content-Type": 'application/json; charset=UTF-8'
                    },
                    body: JSON.stringify({ email, fullname, password })
                })
                .then(result => {
                    if (result.status !== 200) {
                        alert("Бүртгэл амжилтгүй!");
                        return;
                    }
                result.json().then(registerResponse => alert(registerResponse.username+" хэрэглэгчийг амжилттай бүртгэв."));
                });
                

            }
    </script>
    <body>
        <header>
            <nav>
                <address>
                    <ul id="address_icon">
                        <li><a href="https://www.facebook.com/PrimeCineplexMongolia"><img src="Images/header_fb_icon.png" alt="facebook icon"></a></li>
                        <li><a href="https://www.instagram.com/primecineplex_mongolia/"><img src="Images/header_ig_icon.png"  alt="instagram icon"></a></li>
                        <li><a href="https://www.youtube.com/@primecineplexmongolia3406"><img src="Images/header_yt_icon.png"  alt="youtube icon"></a></li>
                        <li><a href="mailto:info@primecineplex.mn"><img src="Images/footer_mail-icon.png" alt="mail icon"></a></li>
                    </ul>
                </address>
            </nav>
            <nav>
                <a href="index.html"><img src="Images/logo.jpg" id="logo" alt="primeLogo"></a>
                <ul id="menu">
                    <li><a href="js_now.html">КИНО</a></li>
                    <li><a >ЗӨВХӨН МАНАЙД</a></li>
                    <li><a >ҮЙЛЧИЛГЭЭ</a></li>
                    <li><a >БИДНИЙ ТУХАЙ</a></li>
                    <li><a id="login" href="login.html">НЭВТРЭХ</a></li>
                </ul>
            </nav>
        </header>
        <template id="input_header">
            <form>
                    <section>
                        <slot name="title"><h1>Гарчиг</h1></slot>
                        <slot name="more"><p>Тайлбар</p></slot>
                    </section>
            </form>
        </template>
        <main>
            <section>
                <i_h>
                    <h1 slot="title">Нэвтрэх нэр</h1>
                    <p slot="more">Бүх талбарыг бөглөнө үү!</p>
                </i_h>
                <ul>
                    <li>
                        <label for="email_req">Email:</label>
                        <input type="email" id="email_req" placeholder="Имэйл хаяг (энэ нь таны хэрэглэгчийн нэр байх болно)*" required />
                    </li>
                    <li>
                        <label for="email_req2">Баталгаажуулах:</label>
                        <input type="email" id="email_req2" placeholder="Имэйлээ баталгаажуулах*" required/>
                    </li>
                </ul>
            </section>
            <section>
                <i_h>
                    <h1 slot="title">Хувийн мэдээлэл</h1>
                    <p slot="more">Бүх талбарыг бөглөнө үү!</p>
                </i_h>
                <ul>
                    <li><img height="25px" src="img_ts/icon_pro.png" alt="icon">
                        <label for="lastname">Овог:</label>
                        <input type="text" id="lastname" placeholder="Овог*" required />
                    </li>
                    <li><img height="25px" src="img_ts/icon_pro.png" alt="icon">
                        <label for="firstname">Нэр:</label>
                        <input type="text" id="firstname" placeholder="Нэр*" required/>
                    </li>
                    <li>
                        <label for="dateandtime">Он Сар Өдөр:</label>
                        <input type="date" id="dateandtime" placeholder="mm/dd/yyyy" required/>
                        <img width="25px" height="25px" src="img_ts/Icon_cal.png" alt="icon">
                    </li>
                    <li>
                        <label for="zipcode">Zip Code*:</label>
                        <input type="text" id="zipcode" placeholder="Zip Code*" required/>
                    </li>
                    <li>
                        <label for="phonenumber">Утасны дугаар:</label>
                        <input type="text" id="phonenumber" placeholder="Утасны дугаар*" required/>
                    </li>
                </ul>
            </section>
            <section>
                <i_h>
                    <h1 slot="title">Нууц үг</h1>
                    <p slot="more">Бүртгэлээ үүсгэх сүүлийн алхам. Хамгийн багадаа 8 тэмдэгт. Хамгийн багадаа: 1 том үсэг, 1 тоо агуулсан байх ёстой.</p>
                </i_h>
                <ul>
                    <li>
                        <label for="pass">Нууц үг үүсгэх:</label>
                        <input type="password" id="pass" placeholder="Нууц үг үүсгэх" required />
                    </li>
                    <li>
                        <label for="password">Нууц үгээ баталгаажуулна уу:</label>
                        <input type="password" id="password" placeholder="Нууц үгээ баталгаажуулна уу*" required/>
                    </li>
                </ul>
            </section>
            <section>
                <input type="checkbox" id="accept_button">
                <label id="accept_text" for="accept_button">Би Prime Cineplex-ээс имэйл хүлээн авахыг зөвшөөрч байна.</label>
                <li class="tseg"></li>
                <button type="button" onclick="register();">Бүртгэл үүсгэх</button>
            </section>
            
        </main>
        <script>
            customElements.define('i_h', class extends HTMLElement {
                constructor() {
                super();
                const starRating = document.getElementById('input_header').content;
                const shadowRoot = this.attachShadow({ mode: 'open' });
                shadowRoot.appendChild(starRating.cloneNode(true));
                }
            });
        </script>
        <footer>
            <div id="address_info">
                 <address>
                 <ul>
                     <li>
                         <img src="Images/footer_location-icon.png" alt="location icon">
                         <p>Монгол улс, Улаанбаатар хот, <br>
                             Хан-Уул дүүрэг 11-р хороо, <br>
                             Дүнжингаравын гудамж, <br>
                             Зайсан Хилл Цогцолбор, 1-р давхар</p>
                     </li>
                     <li>
                         <img src="Images/footer_mail-icon.png" alt="mail icon">
                         <a href="mailto:info@primecineplex.mn">@primecineplex.mn</a>
                     </li>
                     <li>
                         <img src="Images/footer_phone-icon.png"  alt="phone icon">
                         <a href="tel:+976-7510-0000">+976-7510-0000</a>
                     </li>
                 </ul>
                 </address>
            </div>
            <div id="map">
                 <div class="location">
                     <p>Зайсан Хилл Комплекс</p>
                     <p><a href="https://www.google.com/maps"><img src="Images/footer_googlemap.png" alt="google map photo"></a></p>
                 </div>
                 <div class="location">
                     <p>Энканто товер</p>
                     <p><a href="https://www.google.com/maps"><img src="Images/footer_googlemap.png" alt="google map photo"></a></p>
                 </div>
                 <div class="location">
                     <p>Ботаник центер</p>
                     <p><a href="https://www.google.com/maps"><img src="Images/footer_googlemap.png" alt="google map photo"></a></p>
                 </div>
             </div>  
         </footer>
    </body>
</html>